{% extends "base.html" %}

{% block content %}
<div class="p-5 mb-4 bg-body-tertiary rounded-3">
  <div class="container-fluid py-5">
    <h2 class="display-5 fw-bold"> Datos del análisis: Mailoney</h2>
    <p class="col-md-12 fs-5 mt-4 mb-4">Disponemos de dos tablas que muestran datos relacionados con Mail y HTTP:</p>
    {% if dataframe_mail is not none %}
    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link text-dark active" id="mail-tab" data-bs-toggle="tab" data-bs-target="#mail" type="button" role="tab" aria-controls="mail" aria-selected="true">Mail</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link text-dark" id="http-tab" data-bs-toggle="tab" data-bs-target="#http" type="button" role="tab" aria-controls="http" aria-selected="false">HTTP</button>
          </li>
        </ul>
        <div class="tab-content mt-3" id="myTabContent">
          <div class="tab-pane fade show active" id="mail" role="tabpanel" aria-labelledby="mail-tab">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    {% for column in dataframe_mail.columns %}
                      <th>{{ column }}</th>
                    {% endfor %}
                  </tr>
                </thead>
                <tbody>
                  {% for index, row in dataframe_mail.iterrows() %}
                    <tr>
                      {% for value in row %}
                        <td>{{ value }}</td>
                      {% endfor %}
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
          <div class="tab-pane fade" id="http" role="tabpanel" aria-labelledby="http-tab">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    {% for column in dataframe_http.columns %}
                      <th>{{ column }}</th>
                      {% endfor %}
                    </tr>
                  </thead>
                  <tbody>
                    {% for index, row in dataframe_http.iterrows() %}
                      <tr>
                        {% for value in row %}
                          <td>{{ value }}</td>
                        {% endfor %}
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% else %}
      <p>No hay datos disponibles.</p>
      {% endif %}
      <a href="{{ url_for('honeypots_analysis') }}" class="btn btn-outline-secondary float-end mt-4" type="button">Volver</a>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybBud7RduPuemT//+jJXB16zg6i8UQD3lV5uDC3Yc7bz1Eeow" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script>
    // Activar las pestañas de Bootstrap al cargar la página
    document.addEventListener('DOMContentLoaded', function () {
      var myTab = new bootstrap.Tab(document.getElementById('myTab'));
      myTab.show();
    });
  </script>
  {% endblock %}
                         